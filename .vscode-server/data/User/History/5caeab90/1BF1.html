<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saramin Jobs</title>
    <link rel="stylesheet" href="static/index.css">
</head>
<body>
    <h1>Ï±ÑÏö©Í≥µÍ≥†</h1>
    <form method="GET" action="/">
        <label for="region">ÏßÄÏó≠Î≥Ñ:</label>
        <select id="region" name="region">
            <option value="">Ï†ÑÏ≤¥</option>
            <option value="ÏÑúÏö∏">ÏÑúÏö∏</option>
            <option value="Í≤ΩÍ∏∞">Í≤ΩÍ∏∞</option>
            <!-- Îã§Î•∏ ÏßÄÏó≠ Ï∂îÍ∞Ä -->
        </select>
    
        <label for="career">Í≤ΩÎ†•Î≥Ñ:</label>
        <select id="career" name="career">
            <option value="">Í≤ΩÎ†•Î¨¥Í¥Ä</option>
            <option value="1">1ÎÖÑ</option>
            <option value="2">2ÎÖÑ</option>
            <option value="7">3ÎÖÑ</option>
            <option value="5">5ÎÖÑ</option>
            <option value="7">7ÎÖÑ</option>
        </select>
    
        <label for="salary">Í∏âÏó¨Î≥Ñ:</label>
        <select id="salary" name="salary">
            <option value="">Ï†ÑÏ≤¥</option>
            <option value="3000ÎßåÏõê Ïù¥ÏÉÅ">3000ÎßåÏõê Ïù¥ÏÉÅ</option>
            <option value="4000ÎßåÏõê Ïù¥ÏÉÅ">4000ÎßåÏõê Ïù¥ÏÉÅ</option>
        </select>
    
        <label for="tech_stack">Í∏∞Ïà†Ïä§ÌÉùÎ≥Ñ:</label>
        <input type="text" id="tech_stack" name="tech_stack" placeholder="Java, Python, React...">
    
        <button type="submit">ÌïÑÌÑ∞ Ï†ÅÏö©</button>
    </form>  

    {% if joblist %}
    <div class="job-grid">
        {% for job in joblist %}
        <div class="job-card">
            <div class="inline-block">
                <h2 class="title">{{ job[1] }}</h2>
                <span class="subtitle">
                    {% if job[2] is not none %}‚Ä¢ {{ job[2] }}{% endif %}
                    {% if job[3] is not none %}‚Ä¢ {{ job[3] }}{% endif %} 
                    {% if job[4] is not none %}‚Ä¢ {{ job[4] }}{% endif %}
                </span>
            </div>
            <h3 class="title">
                <a href="{{ job[6] }}" target="_blank" class="job-link">{{ job[5] }}</a>
            </h3>
            <p class="details">‚Ä¢ {{ job[7] }}</p>
            <p class="details">‚öë {{ job[9] }}</p>
            <p class="details">
                ‚öá <span>{{ job[10] }}</span>
                <span class="spaced">‚Ä¢ {{ job[11] }}</span>
            </p>
            <p class="details">
                ‚ö≤ <span>{{ job[11] }}</span>
                <span class="spaced">‚Ä¢ {{ job[12] }}</span>
            </p>
            {% if job[8] is not none %}
            <p class="badge">êÇÖ{{ job[8] }}</p>
            {% endif %}
            <div class="apply-button">
                <a href="{{ job[6] }}" target="_blank">ÏûÖÏÇ¨ÏßÄÏõê</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p>No job data available</p>
    {% endif %}

    <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò -->
    <div class="pagination">
        {% if current_range_start > 1 %}
            <a href="/?page={{ current_range_start - 1 }}&region={{ request.args.get('region') }}">Previous</a>
        {% else %}
            <a class="disabled">Previous</a>
        {% endif %}
    
        {% for page in range(current_range_start, current_range_end + 1) %}
            <a href="/?page={{ page }}&region={{ request.args.get('region') }}" 
               class="{% if page == current_page %}active{% endif %}">
               {{ page }}
            </a>
        {% endfor %}
    
        {% if current_range_end < total_pages %}
            <a href="/?page={{ current_range_end + 1 }}&region={{ request.args.get('region') }}">Next</a>
        {% else %}
            <a class="disabled">Next</a>
        {% endif %}
    </div>
</body>
</html>
