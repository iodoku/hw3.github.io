<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saramin Jobs</title>
    <link rel="stylesheet" href="static/index.css">
</head>
<body>
    <h1>ì±„ìš©ê³µê³ </h1>
    <form method="GET" action="/">
        <label for="region">ì§€ì—­ë³„:</label>
        <select id="region" name="region">
            <option value="">ì „ì²´</option>
            <option value="ì„œìš¸">ì„œìš¸</option>
            <option value="ê²½ê¸°">ê²½ê¸°</option>
            <!-- ë‹¤ë¥¸ ì§€ì—­ ì¶”ê°€ -->
        </select>
    
        <label for="career">ê²½ë ¥ë³„:</label>
        <select id="career" name="career">
            <option value="">ì „ì²´</option>
            <option value="1">1ë…„</option>
            <option value="2">2ë…„</option>
            <option value="3">3ë…„</option>
            <option value="4">4ë…„</option>
            <option value="5">5ë…„</option>
            <option value="6">6ë…„ì´ìƒ</option>
        </select>
    
        <label for="salary">ê¸‰ì—¬ë³„:</label>
        <select id="salary" name="salary">
            <option value="">ì „ì²´</option>
            <option value="3000ë§Œì› ì´ìƒ">3000ë§Œì› ì´ìƒ</option>
            <option value="4000ë§Œì› ì´ìƒ">4000ë§Œì› ì´ìƒ</option>
            <option value="5000ë§Œì› ì´ìƒ">5000ë§Œì› ì´ìƒ</option>
            <option value="6000ë§Œì› ì´ìƒ">6000ë§Œì› ì´ìƒ</option>
        </select>

        <label for="details">ì§ë¬´:</label>
        <select id="details" name="details">
            <option value="">ì „ì²´</option>
            <option value="0">ê¸°íšâ€¢ì „ëµ</option>
            <option value="1">ë§ˆì¼€íŒ…â€¢í™ë³´â€¢ì¡°ì‚¬</option>
            <option value="2">íšŒê³„â€¢ì„¸ë¬´â€¢ì¬ë¬´</option>
            <option value="3">ì¸ì‚¬â€¢ë…¸ë¬´â€¢HRD</option>
            <option value="4">ì´ë¬´â€¢ë²”ë¬´â€¢ì‚¬ë¬´â€¢HRD</option>
            <option value="5">ITê°œë°œâ€¢ë°ì´í„°</option>
            <option value="6">ë””ìì¸</option>
            <option value="7">ì˜ì—…â€¢íŒë§¤â€¢ë¬´ì—­</option>
            <option value="8">ê³ ê°ìƒë‹´â€¢TM</option>
            <option value="9">êµ¬ë§¤â€¢ìì¬â€¢ë¬¼ë¥˜</option>
            <option value="10">ìƒí’ˆê¸°íšâ€¢MD</option>
            <option value="11">ìš´ì „â€¢ìš´ì†¡â€¢ë°°ì†¡</option>
            <option value="12">ì„œë¹„ìŠ¤</option>
            <option value="13">ìƒì‚°</option>
            <option value="14">ê±´ì„¤â€¢ê±´ì¶•</option>
            <option value="15">ì˜ë£Œ</option>
            <option value="16">ì—°êµ¬â€¢R&D</option>
            <option value="17">êµìœ¡</option>
            <option value="18">ë¯¸ë””ì–´â€¢ë¬¸í™”â€¢ìŠ¤í¬ì¸ </option>
            <option value="19">ê¸ˆìœµâ€¢ë³´í—˜</option>
            <option value="20">ê³µê³µâ€¢ë³µì§€</option>
        </select>
    
        <label for="tech_stack">ê¸°ìˆ ìŠ¤íƒë³„:</label>
        <input type="text" id="tech_stack" name="tech_stack" placeholder="Java, Python, React...">
    
        <button type="submit">í•„í„° ì ìš©</button>
    </form>  

    {% if joblist %}
    <div class="job-grid">
        {% for job in joblist %}
        <div class="job-card">
            <div class="inline-block">
                <h2 class="title">{{ job[1] }}</h2>
                <span class="subtitle">
                    {% if job[2] is not none %}â€¢ {{ job[2] }}{% endif %}
                    {% if job[3] is not none %}â€¢ {{ job[3] }}{% endif %} 
                    {% if job[4] is not none %}â€¢ {{ job[4] }}{% endif %}
                </span>
            </div>
            <h3 class="title">
                <a href="{{ job[6] }}" target="_blank" class="job-link">{{ job[5] }}</a>
            </h3>
            <p class="details">â€¢ {{ job[7] }}</p>
            <p class="details">âš‘ {{ job[9] }}</p>
            <p class="details">
                âš‡ <span>{{ job[10] }}</span>
                <span class="spaced1">â€¢ {{ job[13] }}</span>
            </p>
            <p class="details">
                âš² <span>{{ job[11] }}</span>
                <span class="spaced2">â€¢ {{ job[14] }}</span>
            </p>
            {% if job[8] is not none %}
            <p class="badge">ğ‚…{{ job[8] }}</p>
            {% endif %}
            <div class="apply-button">
                <a href="{{ job[6] }}" target="_blank">ì…ì‚¬ì§€ì›</a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
        <p>No job data available</p>
    {% endif %}

    <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
    <div class="pagination">
        {% if current_range_start > 1 %}
            <a href="/?page={{ current_range_start - 1 }}&region={{ request.args.get('region') }}">Previous</a>
        {% else %}
            <a class="disabled">Previous</a>
        {% endif %}
    
        {% for page in range(current_range_start, current_range_end + 1) %}
            <a href="/?page={{ page }}&region={{ request.args.get('region') }}" 
               class="{% if page == current_page %}active{% endif %}">
               {{ page }}
            </a>
        {% endfor %}
    
        {% if current_range_end < total_pages %}
            <a href="/?page={{ current_range_end + 1 }}&region={{ request.args.get('region') }}">Next</a>
        {% else %}
            <a class="disabled">Next</a>
        {% endif %}
    </div>
</body>
</html>
