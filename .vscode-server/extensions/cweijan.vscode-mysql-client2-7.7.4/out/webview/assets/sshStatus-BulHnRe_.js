import{a as w,A as g,c as p,q as c,e as C,f as t,t as s,g as e,G as r,h as l,Z as x,a1 as U,o as D,$ as n}from"./app-CSosM33B.js";import{B as P,L as b,D as m,a as T,b as L}from"./lineChartData-CwsXh-Xh.js";import{e as B}from"./notify-B3uo9RRx.js";import"./focus-trap-oW3Oz0pJ.js";import"./validator-DN1lxiX_.js";import"./index-Dig24fm9.js";class d extends P{static getOption(a){return{cutout:45,responsive:!0,plugins:{title:{text:a,display:!0}}}}static formatPercent(a){return`${(a*100).toFixed(1)}%`}static getDoughnutData(a){return{datasets:[{data:[a,1-a],borderColor:["rgb(94, 154, 239)","rgb(233, 233, 233)"],backgroundColor:["rgb(94, 154, 239)","rgb(233, 233, 233)"]}]}}}const G={class:"status-container"},H={class:"info-container"},I={style:{display:"inline-block","margin-right":"50px"}},O={class:"info-title"},V={class:"info-col"},M=["innerHTML"],N={class:"info-col"},$={class:"info-col"},j={class:"red"},q={class:"info-col"},z={style:{display:"inline-block"}},A={class:"info-title"},E={class:"info-col"},F={class:"info-col"},Z={class:"info-col"},J=["innerHTML"],K={class:"info-title"},Q={class:"ring-graph-status"},R={class:"donut-inner"},W={class:"ring-graph-status"},X={class:"donut-inner"},Y={class:"ring-graph-status"},tt={class:"donut-inner"},st={class:"network-container"},et={class:"info-title"},ot={style:{height:"300px"}},ut=w({__name:"sshStatus",setup(f){const a=g({cpu:null,disk:null,memory:null,network:null}),o=g({serverType:"linux",os:"Loading",kernelVersion:"Loading",arch:"x86_64",hostname:"localhost",upTime:"0",diskUsage:{total:"0G",used:"0G",available:"0G",usePercent:0},memoryUsage:{total:"0 GB",used:"0 GB",free:"0 MB",usePercent:0},cpu:{name:"",clock:"0GHz",logicCoreCount:"0",usePercent:0},traffic:{labels:[],data1:[],data2:[],tooltips:[],lock:!1,previous:null}}),{formatPercent:u,getDoughnutData:h}=d,v=p(()=>h(o.cpu.usePercent)),k=p(()=>h(o.memoryUsage.usePercent)),y=p(()=>h(o.diskUsage.usePercent)),_=new b,S=_.toChartData();return c.on("error",()=>{B("SSH service connection failed!")}).on("info",i=>{Object.assign(o,i),a.memory||(a.memory=setInterval(()=>c.emit("memory"),3e3)),o.serverType=="windows"?c.emit("cpu"):(c.emit("network"),a.network||(a.network=setInterval(()=>c.emit("network"),1e3))),a.disk||(a.disk=setInterval(()=>c.emit("disk"),3e3)),a.cpu||(a.cpu=setInterval(()=>c.emit("cpu"),1e3))}).on("cpu",i=>{o.cpu.usePercent=i}).on("disk",i=>{o.diskUsage=i}).on("memory",i=>{o.memoryUsage=i}).on("network",i=>{_.addData(i)}).emit("init"),(i,at)=>(D(),C("div",G,[t("div",H,[t("div",I,[t("div",O,s(e(n)("sshStatus.systemInfo"))+": ",1),t("div",null,s(e(n)("sshStatus.runTime"))+": "+s(o.upTime),1),t("span",V,[r(s(e(n)("sshStatus.arch"))+": ",1),t("span",{innerHTML:o.arch},null,8,M)]),t("span",N,s(e(n)("sshStatus.hostname"))+": "+s(o.hostname),1),t("span",$,[r(s(e(n)("sshStatus.os"))+": ",1),t("span",j,s(o.os),1)]),t("span",q,s(e(n)("sshStatus.kernelVersion"))+": "+s(o.kernelVersion),1)]),t("div",z,[t("div",A,s(e(n)("sshStatus.cpuInfo"))+": ",1),t("div",null,[t("span",E,s(e(n)("sshStatus.cpuClock"))+":"+s(o.cpu.clock),1),t("span",F,s(e(n)("sshStatus.cpuCoreCount"))+":"+s(o.cpu.logicCoreCount),1),t("span",Z,[r(s(e(n)("sshStatus.cpuName"))+": ",1),t("span",{innerHTML:o.cpu.name},null,8,J)])])])]),t("div",null,[t("div",K,s(e(n)("sshStatus.systemStatus"))+": ",1),t("div",Q,[l(e(m),{options:e(d).getOption("CPU"),data:v.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+s(o.cpu.clock)+" ",1),t("div",R,s(e(u)(o.cpu.usePercent)),1)]),t("div",W,[l(e(m),{options:e(d).getOption(e(n)("sshStatus.memory")),data:k.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+s(o.memoryUsage.used)+"/"+s(o.memoryUsage.total)+" ",1),t("div",X,s(e(u)(o.memoryUsage.usePercent)),1)]),t("div",Y,[l(e(m),{options:e(d).getOption(e(n)("sshStatus.disk")),data:y.value,style:{width:"160px",height:"160px"}},null,8,["options","data"]),r(" "+s(o.diskUsage.used)+"/"+s(o.diskUsage.total)+" ",1),t("div",tt,s(e(u)(o.diskUsage.usePercent)),1)])]),x(t("div",st,[t("div",et,s(e(n)("sshStatus.network"))+": ",1),t("div",ot,[l(e(L),{style:{height:"100%"},options:e(T).getOption(!0),data:e(S)},null,8,["options","data"])])],512),[[U,o.serverType!="windows"]])]))}});export{ut as default};
