import{a as S,r as c,I as D,q as m,e as r,Z as x,a1 as I,g as T,f as v,F as k,x as V,h as B,E,aE as L,C as N,o as a,n as b,j as z,G as R,t as U,D as g,a0 as A,aF as F,J as K,K as M,y as P}from"./app-CSosM33B.js";import{u as Q}from"./resultUIStore-BFL9NZgn.js";import{a as q,D as h}from"./constants-BpYHMiwN.js";import"./wrapper-dg0Nafb1.js";import"./viewUtil-C7po9rYW.js";import"./_commonjsHelpers-Cpj98o6Y.js";const $="data:image/svg+xml,%3csvg%20height='20'%20width='20'%20viewBox='-11.9%20-2%201003.9%20995.6'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m12.1%20353.9s-24-17.3%204.8-40.4l67.1-60s19.2-20.2%2039.5-2.6l619.2%20468.8v224.8s-.3%2035.3-45.6%2031.4z'%20fill='%232489ca'%20/%3e%3cpath%20d='m171.7%20498.8-159.6%20145.1s-16.4%2012.2%200%2034l74.1%2067.4s17.6%2018.9%2043.6-2.6l169.2-128.3z'%20fill='%231070b3'%20/%3e%3cpath%20d='m451.9%20500%20292.7-223.5-1.9-223.6s-12.5-48.8-54.2-23.4l-389.5%20354.5z'%20fill='%230877b9'%20/%3e%3cpath%20d='m697.1%20976.2c17%2017.4%2037.6%2011.7%2037.6%2011.7l228.1-112.4c29.2-19.9%2025.1-44.6%2025.1-44.6v-671.2c0-29.5-30.2-39.7-30.2-39.7l-197.7-95.3c-43.2-26.7-71.5%204.8-71.5%204.8s36.4-26.2%2054.2%2023.4v887.5c0%206.1-1.3%2012.1-3.9%2017.5-5.2%2010.5-16.5%2020.3-43.6%2016.2z'%20fill='%233c99d4'%20/%3e%3c/svg%3e",j=l=>(K("data-v-a29573f5"),l=l(),M(),l),G={id:"tableTab",class:"tab"},J=["onClick"],Z=j(()=>v("img",{src:$,alt:"VSCode Logo"},null,-1)),H=[Z],O=S({__name:"Main",setup(l){const p=L(),_=Q(),d=c(null),n=c(!1),o=c("result"),w=c([{id:"design",i18n:"table.design",icon:"codicon-edit",disabled:()=>!n.value},{id:"result",i18n:"table.data",icon:"codicon-database blue"},{id:"erDiagram",i18n:"table.erDiagram",icon:"codicon-symbol-class yellow",disabled:()=>!n.value||q(d.value)},{id:"status",i18n:"table.monitor",icon:"codicon-graph-line",disabled:()=>[h.SQLITE,h.DUCK_DB].includes(d.value)},{id:"log",i18n:"common.log",icon:"codicon-file"}]),u=e=>{typeof e=="string"&&(e={id:e});const{id:s,disabled:i}=e;i!=null&&i()||o.value!==s&&(o.value=s,p.push(s),s=="log"&&m.emit("initTerminal"))};D(()=>{o.value=p.currentRoute.value.name,window.addEventListener("message",({data:e})=>{["RUN","DATA"].includes(e.type)&&!["design","result","erDiagram"].includes(o.value)&&u("result")}),m.on("table_info",({singleTable:e,dbType:s})=>{d.value=s,n.value=e,n.value||u("result")})});const y=()=>{m.emit("editInVSCode",_.toolbar.sql)};return(e,s)=>{const i=N("router-view");return a(),r("div",null,[x(v("ul",G,[(a(!0),r(k,null,V(w.value,(t,C)=>{var f;return a(),r("li",{key:C,class:b(["tab__item",{"tab__item--active":o.value==t.id,disabled:(f=t.disabled)==null?void 0:f.call(t)}]),onClick:W=>u(t)},[t.icon?(a(),r("i",{key:0,type:"icon",class:b(t.icon),style:{position:"relative",top:"3px"}},null,2)):z("",!0),R(" "+U(e.$t(t.i18n)),1)],10,J)}),128)),v("div",{class:"inline-flex items-center pl-1 pr-2",style:{"border-left":"1px solid var(--border-color)"},title:"Edit in VSCode",onClick:y},H)],512),[[I,T(_).showSQLPanel]]),B(i,null,{default:E(({Component:t})=>[(a(),g(F,null,[(a(),g(A(t)))],1024))]),_:1})])}}}),oe=P(O,[["__scopeId","data-v-a29573f5"]]);export{oe as default};
